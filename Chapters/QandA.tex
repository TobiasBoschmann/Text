\chapter{Questions and Answers}
\label{cha:QuestionsAndAnswers}

This is an example chapter with the purpose of providing answers and examples to everyday challenges in \LaTeX. The format represents a question and answer structure separated by the category. It is recommended that you read through the questions before trying to find a solution to your problem, in most cases, someone has already found the solution and has written the answer here. Feel free to use the examples provided here in your own document. Keep in mind that some methods have conflicts with other methods and therefore the least used case is commented here.

Although we tried to include as many answers and examples as possible, you may find better options to achieve certain tasks. Feel free to extend this document or write issues if this template needs correction in its GIT repository. 

\begin{QandA}
\item What should I consider when using this template?

	\begin{answered}
		The template uses the so called toggles to switch between different modes. So you have to consider what you are writing, e.g. a master thesis or a dissertation and correct the toggles by changing them to false or true (e.g. \verb|\toggletrue{thesis}|). This automatically reformats your document to include the correct cover page, margins, chapters, etc.
		
		After that you just update the pages you need and add your chapters to the document. If you do not have very special wishes, you do not need to change anything else in the document as all the packages and options that you may require are predefined.
	\end{answered}
	
	
	
\item How do I choose the language between German and English?

	\begin{answered}
		Change \verb|\togglefalse{ingerman}| to \verb|\toggletrue{ingerman}| for a document in German or vice versa for a document in English.
	\end{answered}

\end{QandA}

\section{Page Layout}
\label{sec:PageLayout}
This document uses the ``Koma-Script'' class. This class provides great flexibility in comparison to predefined classes. The following Q\&A's describe some of the commands necessary to achieve different tasks in the Koma-Script class. But, there are many more options available which you can find \href{http://ftp.uni-erlangen.de/ctan/macros/latex/contrib/koma-script/doc/scrguien.pdf}{here}.

\begin{QandA}
\item How do I write a part of my document in German/English?
	
		\begin{answered}
		\verb|\selectlanguage{language}| is used to change the default language at any part of your document. Don't forget to change it back after you finished your text in the second language. For example,
			\begin{lstlisting}[language={[LaTeX]{TeX}},basicstyle=\ttfamily]
  \selectlanguage{ngerman}
	Heizölrückstoßabdämpfung	 	
  \selectlanguage{english}
	Some text in English ...
			\end{lstlisting}
		
		will result in:	
	\selectlanguage{ngerman}
  		Heizölrückstoßabdämpfung
and  	
  	\selectlanguage{english}
    	Some text in English ...
    	
    	This is specially useful, for example, when you are writing an abstract in two languages.
			
		\end{answered}	
		
		
		
		
\item How do I change the font size of my whole document?
	
		\begin{answered}
		11 points is chosen as the default font size in most of the templates at the institute. If you want to change it, just change the value in the options of the \verb|\documentclass|. 
		
		For example, \verb|\documentclass[12pt]{scrreprt}| changes the font size of the whole document to 12 points.
		\end{answered}
		
		
		
		
\item How do I change the font size of a part of the document (locally)?
	
		\begin{answered}
		Depending on the situation, there are a few ways to to this. \LaTeX has many predefined formats such as \verb|\huge|, \verb|\large|, \verb|\small|, etc. You can use them either inline or in an environment.
		
		\begin{itemize}
			\item Inline: Just write the command in front of your text in a curly bracket.
			
			For example, \verb|{\Huge Text}| results in a {\Huge Huge Text}, 
			
			and \verb|{\tiny Text}| results in a {\tiny tiny Text}.
			
			\item Environment: You can use an environment not only to change the font size of a block of text but rather the font size in figures and tables. You can create the environment as follow:
			
			\begin{lstlisting}[language={[LaTeX]{TeX}},basicstyle=\ttfamily]
  \begin{Font size}
  	Your text here ...	 	
  \end{Font size}
			\end{lstlisting}
							
		\end{itemize}
		
		Keep in mind that there is usually no need to change your font size. A uniform font size makes the document look much better. Change the font size locally only if no other method of separating context works.
		\end{answered}
		
		
		
\item What should I consider when I want to have a double sided document?
	
		\begin{answered}
		Use the option \texttt{twoside} for the document class.
		
		\verb|\documentclass[twoside]{scrreprt}|.
		
		This automatically moves the page number of odd pages to the right and even pages to the left. It also recalculates the binding space for a two sided document depending on odd and even pages.
		
		\end{answered}
		
		
		
\item The figure/table captions are too long resulting in a very cluttered list of figures and tables. How can I prevent that?
	
		\begin{answered}
		You can actually define two captions, one for the table of contents (TOC) by placing it in a bracket and one for the actual figure or table by placing it inside a curly bracket.
		
		\verb|\caption[Caption for TOC]{Actual caption for the figure, table, chapter, section, etc.}|.
		
		
		\end{answered}
		

		
\end{QandA}

\section{Figures}
\label{sec:Figures}
There are many ways to import different figures in \LaTeX. It is always recommended to keep the fonts similar to the rest of the document. Below are a few examples of what can be done.

\begin{QandA}
\item How can I input a figure in \LaTeX?

	\begin{answered}
	You can use the figure environment to include figures with a caption and a label (see Figure \ref{fig:PDFExample}). The code for including the Figure \ref{fig:PDFExample} is given below. 
	
	\verb|\begin{figure}[h]   | \\
	\verb| \centering|	\\
	\verb| \includegraphics[scale=0.5]{Resources/rwth_eerc_rgb_ohne_Schutzraum}|		\\
	\verb| \caption{A PDF example figure.}|	\\
	\verb| \label{fig:PDFExample}|	\\
	\verb| \end{figure}| 	\\
	
	\begin{figure}[h]
	\centering
		\includegraphics[scale=0.5]{Resources/rwth_eerc_rgb_ohne_Schutzraum}
		\caption{A PDF example figure.}
		\label{fig:PDFExample}	
	\end{figure}

	\end{answered}
	
\item How can I input a figure side by side?

	\begin{answered}
		To be answered ...
	\end{answered}


\item How can I input a figure but with \LaTeX\ fonts?
	
	\begin{answered}
		One way to do that is to create/import your figure in Inkscape. Then save it as a PDF and check the PDFLaTeX box while saving. This generates two separate files. One includes all the graphics as a PDF and one is a TeX formatted file including all the text and their positions in the figure with the extension pdf\_tex. Note that this file loads the PDF graphics automatically. If these files are in a folder not directly accessible from your main document, you will get an error. To fix that you have to add the path to your graphics path by writing:
		
		\verb|\graphicspath{{<path to file>/}}| 
		
		in your main document. Figure~\ref{fig:InkScapeExample} shows an example.
		
	\begin{figure}[ht]
	\centering
	\def\svgwidth{0.9\textwidth}
	
    	\input{Figures/DHConceptBase.pdf_tex}
  		\caption{A PDF-TeX example generated by Inkscape}
		\label{fig:InkScapeExample}

	\end{figure}
	
		Note that changing the scale of the figure does not affect the font size. You have to adjust the position of the text boxes slightly as the font size and types vary in the Inkscape file and \LaTeX.
		
		It is also possible to write equations or accented characters by just writing them in \LaTeX \, mathematics format in your Inkscape file.	
	
	\end{answered}	


\item How can I implement a diagram while having the \LaTeX\ font?

	\begin{answered}
		The easiest way is to save your diagram in Python or Matlab with their \LaTeX\ font in PDF format and include those in your document. The problem with that method is that you cannot scale your diagram without scaling the font as well. And, changing the final figure is impossible.
		
		Another method is to use TikZ plots. Note that TikZ plots are not only for diagramms, and there are many examples what you can do \href{http://www.texample.net/tikz/}{here}. There are functions in Matlab and Python (for example \href{https://github.com/matlab2tikz/matlab2tikz}{here}) that generate TiKZ plots from your figures. They basically generate a TikZ code which includes the definition of axis and labels following by the actual data points of your diagram. Several types diagrams are possible such as bars, line, etc with or without error bars. Sometimes you have to slightly change the generated TikZ code for your need. You can also directly change the labels or even the range of your diagram within the TikZ code. Figure~\ref{fig:TikzDiagramExample} shows an example of a TikZ diagram.
		
		
	\begin{figure}[ht]
		\centering
		\setlength\figureheight{5cm} 
		\setlength\figurewidth{0.8\textwidth}
	
    	\input{Figures/Density.tikz}
  		\caption{An example of a tikz diagram}
		\label{fig:TikzDiagramExample}

	\end{figure}
	
	Depending on the method you generate the TikZ code, it may contain fixed dimensions. You can change it by replacing the fixed with and height with variables \verb|\figureheight| and \verb|\figurewidth| in the TikZ code.
	
	The disadvantage of using TikZ plots is that it makes compilation of your \LaTeX code slower and when there are many data points in the diagram, it may lead to a memory error. It is possible to compile TikZ plots externally and only once when there is no change by using the \verb|\usetikzlibrary{external}|.
	
	You can also prevent the memory error by using the LuaLaTeX compiler instead of the PDFLaTeX.
	
	In any case, it is recommended that you compile only the chapters you are currently writing in while commenting the rest and compile the whole document at the end.
	\end{answered}		


\end{QandA}




\section{Tables}
\label{sec:Tables}
Creating tables in \LaTeX\ is really time consuming. Making it look good is sometimes even harder. But there are ways to make it easier. In any case try to prevent using vertical lines in your table to make it look more professional. In the following are some examples:

\begin{QandA}
\item How can I create tables without using pure codes?

	\begin{answered}
		Usually different programs have some tools to make it easier. For example TexMaker has a Table-Assistant. If you are using that, try to make your table as close as to the one you actually want before exiting, otherwise you cannot go back.
		
		There is also an online tool \href{http://www.tablesgenerator.com/}{Tables Generator} which makes coding a table much easier.
	\end{answered}



\item I am having a hard time writing the values in my table, is there a way to do it more efficiently?

	\begin{answered}
		There are some tools to generate table data in \LaTeX\ format. For example the \href{https://github.com/eliduenisch/latexTable}{latexTable function} in Matlab can put your data in correct \LaTeX\ table style.
	\end{answered}
	
	
	
	
\item What is the best way to draw horizontal lines in the table?

	\begin{answered}
		Use \verb|\toprule|, \verb|\midrule| or \verb|\bottomrule| depending on the position instead of \verb|\hline|. These command add extra space in the correct direction to prevent text being too close to the lines. Tables~\ref{tab:hline} and~\ref{tab:rule} illustrate the difference.
		
		\begin{table}
		\parbox{.45\linewidth}{
		\centering
		\caption{Normal horizontal lines}
		\begin{tabular}{lc}
		\hline
		Title & Value\\
		\hline
		Text 1 & 123\\
		Text 2 & 456\\
		\hline
		\end{tabular}
		\label{tab:hline}
		}
		\hfill
		\parbox{.45\linewidth}{
		\centering
		\caption{Rules as horizontal lines}
		\begin{tabular}{lc}
		\toprule
		Title & Value\\
		\midrule
		Text 1 & 123\\
		Text 2 & 456\\
		\bottomrule
		\end{tabular}
		\label{tab:rule}
		}
		\end{table}		
		
	\end{answered}



\item How did we just put two tables side by side?

	\begin{answered}
		Use: \verb|\parbox{0.45\linewidth}{...}\hfill\parbox\parbox{0.45\linewidth}{...}| 
		
		See the code of the previous tables as an example.
	
	\end{answered}



\item Center aligned columns with predefined width are too time consuming. What can I do?

	\begin{answered}
		Keep in mind that if you are using a certain type of column too many times, it is always easier to define it once in your main document and use your defined configuration instead. For the specific case of centered alignment with predefined width, this template defines the column type \verb|C{<width>}}|. See Table~\ref{tab:PredefinedCenterAlignment} as an example.
		
	\begin{table}[ht]
	\centering
  	\caption{An example of a predefined table formats}
  	\begin{tabular}{m{3cm}C{3cm}}
	\toprule
		Non centered & Centered \\
	\midrule
		abc & efg \\
		123 & 456 \\
	\bottomrule
	\end{tabular}
	
	\label{tab:PredefinedCenterAlignment}
	\end{table}
		
	\end{answered}


	
\item How can I align my data based on the decimal point?

	\begin{answered}
		
		\textbf{Use package \texttt{dcolumn}}
		
		It is more professional to align numbers on their decimal point rather than format the columns centered. To make it easier, this template has a predefined \verb|d{x.y}| type which does the aligning. The \texttt{x} is the number of characters at the left side and \texttt{y} is the number of characters at the right side of the decimal point. The only problem is that if you want to add label text in the same column, it enters the math-mode. To prevent this, you have to write the label in a multicolumn format which is only one column as follow:
		
		\verb|\multicolumn{1}{c}{Label}|
		
		To align numbers with decimal comma instead of a decimal point, change the following line in the main.tex file:
		
		\verb|  \newcolumntype{d}[1]{D{.}{.}{#1}}|
		
		to:
		
		\verb|  \newcolumntype{d}[1]{D{,}{,}{#1}}|
		
		Table~\ref{tab:DecimalAllignment} shows an example.
		
		\begin{table}[ht]
		\centering
	  	\caption{An example of a table with numbers aligned by their decimal point with \texttt{dcolumn}}
		\begin{tabular}{lcd{5.5}}
		\toprule
			Name & Centered & \multicolumn{1}{c}{Decimal} \\
		\midrule
			A & 1000      & 1000      \\
			B &  100      &  100      \\
			C &   10      &   10      \\
			D &    1      &    1      \\
			E &     .1    &     .1    \\
			F &     .01   &     .01   \\
			G &     .001  &     .001  \\
			H &     .0001 &     .0001 \\
		\bottomrule
		\end{tabular}
		
		\label{tab:DecimalAllignment}
		\end{table}
	
		\textbf{Align at decimal point with standard tools}

		Use \verb|r@{.}l| to use the \verb|&| character to insert a decimal point and instead of the \verb|&|. Be aware that this is interpreted as two columns and you must use \verb|\multicolumn{2}{c}| \verb|{label text}| to combine two cells horizontally. \\
		Use \verb|r@{,}l| to use the \verb|&| character to insert a decimal \textit{comma} for German language.

		A complex table making usage of this approach is Table~\ref{tab:complexTable}.

		\begin{table}[ht]
			\centering
			\caption{An example of a table with numbers aligned by their decimal point with standard tools}
			
			\begin{tabular}{l r@{\hspace{15pt}} r@{.}l r@{.}l r@{.}l r@{.}l r@{.}l r@{.}l} % Some tuning could be made for last column by replacing last
				% "r@{.}l" by e.g. ">{\raggedleft\arraybackslash}p{0.12\linewidth}@{.}>{\raggedright\arraybackslash}p{0.08\linewidth}"
				\toprule
				\multirow{2}{*}{Date} & 
				\multicolumn{1}{c}{$n_{\mathrm{days,}i}$} & 
				\multicolumn{2}{c}{$Q_\mathrm{HC}$} &
				\multicolumn{2}{c}{$Q_\mathrm{DHW}$} &
				\multicolumn{2}{c}{$\boldsymbol{Q_\mathrm{th,tot}}$} &
				\multicolumn{2}{c}{$W_\mathrm{el}$} &
				\multicolumn{2}{c}{$Q_\mathrm{end}$} &
				\multicolumn{2}{c}{\textbf{useful energy}} \\
				& 
				\multicolumn{1}{c}{$\textrm{[--]}$}& 
				\multicolumn{2}{c}{$\textrm{[kWh]}$} &
				\multicolumn{2}{c}{$\textrm{[kWh]}$} &
				\multicolumn{2}{c}{\textbf{$\textrm{[kWh]}$}} &
				\multicolumn{2}{c}{$\textrm{[kWh]}$} &
				\multicolumn{2}{c}{$\textrm{[kWh]}$} &
				\multicolumn{2}{c}{\textbf{output $\textrm{[kWh]}$}} \\
				\midrule
				30 Aug. & 92& 202&4 & 1205&2 & \textbf{1407}&\textbf{6} & 239&2 & 2401&2 & \textbf{1646}&\textbf{8} \\
				11 Jan. & 97& 6751&2 & 1241&6 & \textbf{7992}&\textbf{8} & 1290&1 & 10437&2 & \textbf{9282}&\textbf{9} \\
				27 Feb. & 103& 11433&0 & 1349&3 & \textbf{12782}&\textbf{3} & 1854&0 & 15841&4 & \textbf{14636}&\textbf{3} \\
				01 Jun. & 73& 153&3 & 956&3 & \textbf{1109}&\textbf{6} & 182&5 & 1854&2 & \textbf{1292}&\textbf{1} \\ 
				\cmidrule{2-14} 
				& 1 year: & 18539&9 & 4752&4 & \textbf{23292}&\textbf{3} & 3565&8 & 30534&0 & \textbf{26858}&\textbf{1} \\ 
				\bottomrule
			\end{tabular}
		
			\label{tab:complexTable}
		\end{table}

	\end{answered}
	
\item How can I wrap the text in more lines in a single table cell?

	\begin{answered}
		To be answered ...
	\end{answered}
	
	
	
\item How can I draw horizontal lines under only certain cells?

	\begin{answered}
		
		This can be done with \verb|\cline{3-6}| or \verb|\cmidrule{3-6}|. Thus, a horizontal line is drawn from column 3 to 6. \\
		(For the difference between \texttt{line} and \texttt{rule} see Tables~\ref{tab:hline} and~\ref{tab:rule}.) \\
		See Table~\ref{tab:complexTable} where \verb|\cmidrule{}| is applied.
		
	\end{answered}

\end{QandA}






\section{Literature and citations}
\label{sec:Literature}

\begin{QandA}

\item How can I manage the literature?
	\begin{answered}
		You should use a reference manager to organize your literature. A common reference management software is Citavi which can be installed from the software center.
	\end{answered}


\item How can I import references to latex?

	\begin{answered}
		In latex you can cite papers, books, etc. by importing your refenerces from a bibtex file ('\textit{Literature.bib}').
		 The bibtex file can be created with Citavi by exporting the references. 
		 If you have created or modified the '\textit{Literature.bib}' file, you have to compile your latex document with BibTex once. \\
		 To refer to a reference in the text, use the command \verb|citep{}| or \verb|cite{}| to write the reference with or without square brackets: \citep{Lamberg2003} \quad or \quad \cite{Lamberg2003}	\\
		 In order to understand all options for and types of the \verb|cite| command, e.g. to reference a particular page, have a look into online documentations. \\
		 The \verb|citep{}| command works only due to the imported \texttt{natbib} package. See the official \href{https://ctan.org/pkg/natbib?}{CTAN website} for documentation or \href{https://de.overleaf.com/learn/latex/Bibliography_management_with_natbib}{this Overleaf website} for further information. 
		 If you want to have a numbered citation in the text like \verb|[1]| instead of \verb|[author, year]|, you need to change the option in the preamble to \verb|\usepackage[square, numbers]{natbib}|.
	\end{answered}
	
\end{QandA}







\section{Miscellaneous}
\label{sec:Misc}

\begin{QandA}

\item How do I create a nomenclature?

	\begin{answered}
		There are two possible way for creating the nomenclature:
		\begin{enumerate}
		\item You can add all abbreviations manually in a table. Therefor, include the file NomenclatureTable in the main document: \\
			\verb|\include{Chapters/NomenclatureTable} |
		\item You can use the package \verb|nomencl| to generate the nomenclature automatically. The advantage of the automatic generation is that you can add and define abbreviations everywhere in your document. For further information have a look \href{http://texdoc.net/texmf-dist/doc/latex/nomencl/nomencl.pdf}{here}. %
			
		\end{enumerate}	
	\end{answered}
	
	
	
\item How do I write Modelica Code in \LaTeX??

	\begin{answered}
		You can use the lstlisting environment. There is a Modelica Style file that defines the colors and format. It is also possible to add a complete source code file after the lstlisting command.
		
		\verb|\begin{lstlisting}[language=modelica] <Code> \end{lstlisting}|
		
		For example:
\begin{lstlisting}[language=modelica]
	replaceable partial function f
		extends Modelica.Icons.Function;
		input ThermodynamicState state "thermodynamic state record";
		output Real f;
	end f;
\end{lstlisting}
	\end{answered}
	
	
\item How do I write footnotes?

	\begin{answered}
		To be answered ... 
	\end{answered}
	
	
\item How do I restart footnote numbering at the beginning of each chapter?

	\begin{answered}
		To be answered ... 
	\end{answered}

\end{QandA}